
# Tutoring Platform API

A FastAPI-based backend for a tutoring platform that connects students with tutors.

## Features

- User authentication via GitLab OAuth
- Role-based access control (Admin, Student, Tutor)
- Real-time chat functionality
- Appointment scheduling
- Profile management
- Rate limiting and security features

## Tech Stack

- Python 3.9+
- FastAPI
- SQLAlchemy
- PostgreSQL/SQLite
- Argon2 password hashing
- OAuth2 authentication

## Setup Application/Development Environment 

1. Clone the repository.

2. Create a Python Environment
	
   python -m venv env

3. Activate the Environment

	-    On Windows: .\env\Scripts\activate
	-    On Mac: source env/bin/activate

4. Download the dependencies from the requirements.txt file

	pip install -r requirements.txt

5. Inside this environment, navigate to the app folder

6. Optionally, include the environment variables `GITLAB_CLIENT_ID` and `GITLAB_CLIENT_SECRET` for a Gitlab Oauth appliation. This will allow you to access the auth/login and auth/signup endpoints, which use Gitlab as an identity provider.

7. Run main.py in the virtual environment


## Endpoint testing

If desired, the enpoints of the application, including Admin restricted endpoints, can be tested the following way: 

We implemented the ability **to generate an access token with admin permissions** linked to a temporary admin account to facilitate local testing of admin restricted endpoints **(For developers that are not part of the Admin group on GitLab)**.

This token is generated by the /auth/generate-admin-token endpoint. For security reasons, this endpoint can only be accessed if the server is in local development mode (see config.py) and the request is being made from localhost. These temp admin tokens cannot be refreshed.

Endpoint calls: 

1. http://localhost:8000/auth/generate-admin-token 

This will return an acess token. This token can then be used as a bearer token in the authorization header of subsequent requests. To verify the token is working as intended, make a GET request to the following endpoint (using the token in the header as described):

2. http://127.0.0.1:8000/auth/secure

This should validate the token and return the data encoded in it.

## Things we add after the exam:
- Terraforming
- Runs Testsuite after merge into main
- Google Cloud instead of Redis
- Temporary access for outsiders